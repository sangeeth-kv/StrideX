<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>StrideX Admin Login</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" />
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            light: '#93C5FD', /* Light Blue */
                        DEFAULT: '#3B82F6', /* Blue */
                        dark: '#1E3A8A' /* Dark Blue */
                        }
                    },
                    boxShadow: {
                        'custom': '0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
        
        body {
            font-family: 'Poppins', sans-serif;
        }
        
        .input-focus-effect:focus {
            box-shadow: 0 0 0 3px rgba(86, 45, 208, 0.5);
            transition: all 0.2s ease;
        }
        
        .btn-hover-effect {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .btn-hover-effect:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }
        
        .social-btn {
            transition: all 0.3s ease;
        }
        
        .social-btn:hover {
            transform: translateY(-2px);
        }
        
        .form-container {
            animation: fadeIn 0.8s ease-in-out;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body class="flex items-center justify-center min-h-screen bg-primary-dark p-4 sm:p-6 md:p-8">
    <div class="flex flex-col md:flex-row w-full max-w-5xl bg-white rounded-2xl shadow-custom overflow-hidden animate__animated animate__fadeIn">
        <!-- Left Section (Logo) -->
        <div class="w-full md:w-1/2 flex items-center justify-center p-8 md:p-12 bg-primary">
            <div class="text-center">
              
                <h1 class="text-white text-2xl font-bold mb-4 animate__animated animate__fadeInUp animate__delay-1s">Welcome to StrideX</h1>
                <p class="text-white/80 animate__animated animate__fadeInUp animate__delay-2s">Manage your business with our powerful admin dashboard</p>
            </div>
        </div>
        
        <!-- Right Section (Login Form) -->
        <div class="w-full md:w-1/2 p-8 md:p-12 flex flex-col justify-center bg-white form-container">
            <div class="max-w-md mx-auto w-full">
                <h2 class="text-3xl font-bold mb-2 text-gray-800">Admin Login</h2>
                <p class="text-gray-600 mb-8">Please sign in to your account</p>
                
                <form action="/admin/login" id="loginForm" method="POST" class="space-y-5">
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-700 mb-1">Email Address</label>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" />
                                </svg>
                            </div>
                            <input type="email" id="email" name="email" placeholder="your@email.com" 
                                class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary input-focus-effect">
                        </div>
                        <p id="emailError" class="text-red-500 text-sm mt-1 hidden"></p>
                    </div>
                    
                    <div>
                        <div class="flex items-center justify-between mb-1">
                            <label for="password" class="block text-sm font-medium text-gray-700">Password</label>
                            <a href="#" class="text-sm text-primary hover:text-primary-dark">Forgot password?</a>
                        </div>
                        <div class="relative">
                            <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
                                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z" />
                                </svg>
                            </div>
                            <input type="password" id="password" name="password" placeholder="••••••••" 
                                class="w-full pl-10 pr-4 py-3 rounded-lg border border-gray-300 focus:outline-none focus:ring-2 focus:ring-primary/50 focus:border-primary input-focus-effect">
                        </div>
                        <p id="passwordError" class="text-red-500 text-sm mt-1 hidden"></p>
                    </div>
                    
                    <div class="flex items-center">
                        <input id="remember-me" name="remember-me" type="checkbox" class="h-4 w-4 text-primary focus:ring-primary border-gray-300 rounded">
                        <label for="remember-me" class="ml-2 block text-sm text-gray-700">Remember me</label>
                    </div>
                    
                    <button type="submit" class="w-full bg-primary hover:bg-primary-dark text-white font-medium py-3 px-4 rounded-lg transition-all duration-300 btn-hover-effect">
                        Sign In
                    </button>
                </form>
                
                <div class="mt-8">
                    <div class="relative">
                        <div class="absolute inset-0 flex items-center">
                            <div class="w-full border-t border-gray-300"></div>
                        </div>
                       
                </div>
            </div>
        </div>
    </div>

    <!-- SweetAlert2 CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <!-- SweetAlert2 JS -->
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const loginForm = document.getElementById("loginForm");
        
            if (loginForm) {
                loginForm.addEventListener("submit", async function (event) {
                    event.preventDefault();
        
                    const email = document.getElementById("email").value.trim();
                    const password = document.getElementById("password").value.trim();

                    const emailError = document.getElementById("emailError");
                    const passwordError = document.getElementById("passwordError");

                    emailError.textContent = "";
                    passwordError.textContent = "";

                    emailError.classList.add("hidden");
                    passwordError.classList.add("hidden");
                    
                    let isValid = true;
                    
                    if (!email) {
                        emailError.textContent = "Email is required!";
                        emailError.classList.remove("hidden");
                        isValid = false;
                    }
                    
                    const emailPattern = /^[a-zA-Z0-9][a-zA-Z0-9._-]*@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/;
                    if (email && !emailPattern.test(email)) {
                        emailError.textContent = "Please enter a valid email!";
                        emailError.classList.remove("hidden");
                        isValid = false;
                    }

                    if (!password) {
                        passwordError.textContent = "Password is required!";
                        passwordError.classList.remove("hidden");
                        isValid = false;
                    }

                    if (!isValid) {
                        return;
                    }
        
                    try {
                        const response = await fetch("/admin/login", {
                            method: "POST",
                            headers: { "Content-Type": "application/json" },
                            body: JSON.stringify({ email, password }),
                        });
        
                        const data = await response.json();
        
                        if (data.success) {
                            Swal.fire({
                                icon: "success",
                                title: "Login Successful",
                                text: data.message,
                                timer: 2000,
                                showConfirmButton: false,
                                background: "#fff",
                                iconColor: "#8FB0A1"
                            });
        
                            setTimeout(() => {
                                window.location.href = "/admin/dashboard";
                            }, 2000);
                        } else {
                            Swal.fire({
                                icon: "error",
                                title: "Login Failed",
                                text: data.message,
                                confirmButtonColor: "#8FB0A1"
                            });
                        }
                    } catch (error) {
                        console.error("Error:", error);
                        Swal.fire({
                            icon: "error",
                            title: "Something went wrong",
                            text: "Please try again later",
                            confirmButtonColor: "#8FB0A1"
                        });
                    }
                });
            } else {
                console.error("Login form not found! Make sure the ID is correct.");
            }
        });
    </script>
</body>
</html>